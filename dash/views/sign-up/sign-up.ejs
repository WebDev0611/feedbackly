<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

Sign up

<input type="text" placeholder="E-mail">

<button>Sign up</button>


<script>

function validateEmail(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}


$("button").click(function(){
  // ga
  var email = $("input").val();

  if(!validateEmail(email)) return invalidEmail();
  $.post("/api/sign-up", {email: email})
  .done(function(data){
    // ga
    console.log(data)
  }Â )
  .fail(function(data){ console.log(data) })
})

function invalidEmail(){
  alert("inbalid email")
}
</script>
